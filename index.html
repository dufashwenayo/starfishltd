<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BoostHub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        cool: {
                            primary: '#2563eb',
                            secondary: '#3b82f6', 
                            accent: '#60a5fa',
                            dark: '#1e3a8a',
                            light: '#93c5fd',
                        },
                    },
                    fontFamily: {
                        sans: ['Plus Jakarta Sans', 'ui-sans-serif', 'system-ui', 'sans-serif'],
                        mono: ['Space Mono', 'ui-monospace', 'monospace'],
                    }
                }
            }
        }

        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
        }
        
        .cool-gradient {
            background: linear-gradient(135deg, #2563eb 0%, #4f46e5 100%);
        }
        
        .dark .cool-gradient {
            background: linear-gradient(135deg, #1e3a8a 0%, #4338ca 100%);
        }
        
        .cool-shadow {
            box-shadow: 0 10px 30px -10px rgba(37, 99, 235, 0.2);
        }
        
        .dark .cool-shadow {
            box-shadow: 0 10px 30px -10px rgba(30, 58, 138, 0.3);
        }
        
        .player-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        /* Modern scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(37, 99, 235, 0.3);
            border-radius: 50px;
        }
        
        .dark ::-webkit-scrollbar-thumb {
            background: rgba(37, 99, 235, 0.5);
        }
        
        /* Hide file input */
        .file-input-hidden {
            width: 0.1px;
            height: 0.1px;
            opacity: 0;
            overflow: hidden;
            position: absolute;
            z-index: -1;
        }
        
        /* Animated number input spinner */
        input[type="number"] {
            -moz-appearance: textfield;
        }
        
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        
        /* Custom tooltip */
        .tooltip {
            position: relative;
        }
        
        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            top: -35px;
            left: 50%;
            transform: translateX(-50%);
            padding: 5px 10px;
            background-color: #2563eb;
            color: white;
            border-radius: 6px;
            font-size: 0.75rem;
            white-space: nowrap;
            z-index: 10;
        }
        
        .tooltip:hover::before {
            content: "";
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 5px;
            border-style: solid;
            border-color: #2563eb transparent transparent transparent;
            z-index: 10;
        }
        
        .dark .tooltip:hover::after {
            background-color: #1e3a8a;
        }
        
        .dark .tooltip:hover::before {
            border-color: #1e3a8a transparent transparent transparent;
        }
        
        /* Block selection */
        .no-select {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen transition-colors duration-300 no-select">
    <!-- Subscription Verification Modal -->
    <div id="subscriptionGate" class="fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        <div class="bg-white dark:bg-gray-800 rounded-2xl overflow-hidden cool-shadow max-w-md w-full">
            <div class="cool-gradient p-6 text-white">
                <h2 class="text-2xl font-bold mb-1">Verification Required</h2>
                <p class="opacity-90 text-sm">Complete both steps to access BoostHub</p>
            </div>
            
            <div class="p-6 space-y-6">
                <div class="space-y-2">
                    <div class="flex items-center gap-3">
                        <div class="bg-cool-accent/10 w-8 h-8 rounded-full flex items-center justify-center text-cool-primary font-bold">1</div>
                        <h3 class="font-semibold">Subscribe to Channel</h3>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-400 pl-11">Subscribe to the required YouTube channel</p>
                    <div class="pl-11 mt-2">
                        <a href="https://www.youtube.com/@informationtechnologgy" target="_blank" rel="noopener" 
                           id="subscribeLink"
                           class="inline-flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 text-sm">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
                            </svg>
                            Subscribe to Channel
                        </a>
                    </div>
                </div>
                
                <div class="space-y-2">
                    <div class="flex items-center gap-3">
                        <div class="bg-cool-accent/10 w-8 h-8 rounded-full flex items-center justify-center text-cool-primary font-bold">2</div>
                        <h3 class="font-semibold">Upload Proof Screenshot</h3>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-400 pl-11">Take a screenshot showing you're subscribed</p>
                    
                    <div class="pl-11 mt-2" id="uploadContainer">
                        <label for="proofUpload" class="flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors">
                            <div class="flex flex-col items-center justify-center pt-5 pb-6">
                                <svg class="w-8 h-8 mb-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                </svg>
                                <p class="mb-1 text-sm text-gray-500 dark:text-gray-400"><span class="font-semibold">Click to upload</span> or drag and drop</p>
                                <p class="text-xs text-gray-500 dark:text-gray-400">PNG, JPG or JPEG (MAX. 5MB)</p>
                            </div>
                            <input id="proofUpload" type="file" class="file-input-hidden" accept="image/png, image/jpeg, image/jpg" />
                        </label>
                    </div>
                    
                    <div class="pl-11 hidden" id="previewContainer">
                        <div class="relative rounded-lg overflow-hidden border border-gray-200 dark:border-gray-700">
                            <img id="proofPreview" src="#" alt="Subscription proof" class="w-full h-32 object-cover">
                            <button id="removeProof" class="absolute top-2 right-2 bg-black bg-opacity-50 rounded-full p-1 text-white hover:bg-opacity-70 transition-opacity">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="pt-4">
                    <button id="verifyAccess" class="w-full cool-gradient text-white py-3 px-6 rounded-lg font-semibold transition-all duration-300 shadow-md hover:shadow-lg opacity-50 cursor-not-allowed" disabled>
                        Verify & Continue
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Terms Modal -->
    <div id="termsModal" class="fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm z-50 flex items-center justify-center p-4 hidden">
        <div class="bg-white dark:bg-gray-800 rounded-2xl overflow-hidden cool-shadow max-w-lg w-full">
            <div class="cool-gradient p-6 flex justify-between items-center">
                <h2 class="text-xl font-bold text-white">Important Notice</h2>
                <button id="closeTerms" class="text-white/80 hover:text-white transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                </button>
            </div>
            
            <div class="p-6 max-h-[60vh] overflow-y-auto">
                <div class="bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 rounded-r mb-6">
                    <p class="font-medium text-yellow-800 dark:text-yellow-200">Platform Policy Warning</p>
                    <p class="text-sm text-yellow-700 dark:text-yellow-300 mt-1">Using this tool may violate platform terms of service and could result in:</p>
                    <ul class="list-disc pl-5 mt-2 text-sm text-yellow-700 dark:text-yellow-300">
                        <li>Content removal</li>
                        <li>Channel penalties</li>
                        <li>Account restrictions</li>
                    </ul>
                </div>
                
                <h3 class="font-semibold text-lg mb-2">User Agreement</h3>
                <p class="mb-4 text-gray-700 dark:text-gray-300">By using BoostHub, you acknowledge and agree that:</p>
                <ul class="list-disc pl-5 mb-6 space-y-2 text-gray-700 dark:text-gray-300 text-sm">
                    <li>You take full responsibility for how you use this tool</li>
                    <li>You understand the potential risks to your account</li>
                    <li>You will not hold the developers responsible for any consequences</li>
                    <li>This tool is for educational and testing purposes only</li>
                </ul>
            </div>
            
            <div class="p-4 flex gap-4 border-t border-gray-100 dark:border-gray-700">
                <button id="acceptTerms" class="flex-1 cool-gradient text-white py-2.5 px-6 rounded-lg font-medium transition-all duration-300 shadow-md hover:shadow-lg">
                    I Accept
                </button>
                <button id="declineTerms" class="flex-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 py-2.5 px-6 rounded-lg font-medium transition-colors">
                    I Decline
                </button>
            </div>
        </div>
    </div>

    <main class="container mx-auto px-4 py-10 max-w-6xl">
        <header class="mb-12">
            <div class="flex items-center justify-center mb-6">
                <div class="cool-gradient p-3 rounded-xl">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                    </svg>
                </div>
            </div>
            <h1 class="text-3xl md:text-5xl font-bold text-center mb-2">BoostHub</h1>
            <p class="text-center text-gray-600 dark:text-gray-400">Modern content enhancement platform</p>
        </header>

        <div class="bg-white dark:bg-gray-800 rounded-2xl cool-shadow mb-10 overflow-hidden">
            <form id="videoForm">
                <div class="p-6 space-y-6">
                    <div>
                        <label for="videoUrl" class="block text-sm font-medium mb-2">YouTube Video URL</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <svg class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z" />
                                </svg>
                            </div>
                            <input type="url" id="videoUrl" name="videoUrl" placeholder="https://www.youtube.com/watch?v=..." 
                                class="w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700 text-base focus:ring-2 focus:ring-cool-primary focus:border-cool-primary" 
                                required>
                        </div>
                    </div>
                    
                    <div>
                        <label for="playerCount" class="block text-sm font-medium mb-2">Number of Boosters (1-50)</label>
                        <div class="flex rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden">
                            <button type="button" id="decreaseCount" class="flex-none bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 px-4 py-3 flex items-center justify-center transition-colors border-r border-gray-200 dark:border-gray-700">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4" />
                                </svg>
                            </button>
                            <input type="number" id="playerCount" name="playerCount" min="1" max="50" value="10" 
                                class="flex-1 px-4 py-3 text-center bg-gray-50 dark:bg-gray-700">
                            <button type="button" id="increaseCount" class="flex-none bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 px-4 py-3 flex items-center justify-center transition-colors border-l border-gray-200 dark:border-gray-700">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <div>
                        <label for="viewType" class="block text-sm font-medium mb-2">Boost Mode</label>
                        <div class="grid grid-cols-3 gap-3">
                            <div>
                                <input type="radio" id="mode-standard" name="viewType" value="active" class="file-input-hidden" checked>
                                <label for="mode-standard" class="flex flex-col items-center justify-center p-4 border border-gray-200 dark:border-gray-700 rounded-xl cursor-pointer bg-gray-50 dark:bg-gray-700 hover:border-cool-primary dark:hover:border-cool-primary transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-2 text-cool-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                    <span class="text-sm font-medium">Standard</span>
                                </label>
                            </div>
                            <div>
                                <input type="radio" id="mode-audio" name="viewType" value="unmuted" class="file-input-hidden">
                                <label for="mode-audio" class="flex flex-col items-center justify-center p-4 border border-gray-200 dark:border-gray-700 rounded-xl cursor-pointer bg-gray-50 dark:bg-gray-700 hover:border-cool-primary dark:hover:border-cool-primary transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-2 text-cool-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
                                    </svg>
                                    <span class="text-sm font-medium">With Audio</span>
                                </label>
                            </div>
                            <div>
                                <input type="radio" id="mode-silent" name="viewType" value="preview" class="file-input-hidden">
                                <label for="mode-silent" class="flex flex-col items-center justify-center p-4 border border-gray-200 dark:border-gray-700 rounded-xl cursor-pointer bg-gray-50 dark:bg-gray-700 hover:border-cool-primary dark:hover:border-cool-primary transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mb-2 text-cool-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2" />
                                    </svg>
                                    <span class="text-sm font-medium">Silent</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="pt-4">
                        <button type="submit" id="generateButton" class="w-full cool-gradient text-white py-3 px-6 rounded-xl font-semibold transition-all duration-300 shadow-md hover:shadow-lg flex items-center justify-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                            </svg>
                            <span id="buttonText">Activate Boosters</span>
                        </button>
                    </div>
                </div>
            </form>
        </div>

        <div id="statusMessage" class="hidden rounded-xl p-4 mb-6 border"></div>

        <div id="loadingIndicator" class="hidden">
            <div class="flex items-center justify-center p-6 mb-6">
                <div class="relative">
                    <div class="w-12 h-12 rounded-full border-2 border-gray-200 dark:border-gray-700"></div>
                    <div class="w-12 h-12 rounded-full border-2 border-t-cool-primary border-r-cool-primary border-b-cool-secondary border-l-cool-secondary absolute inset-0 animate-spin"></div>
                </div>
                <span class="ml-4 text-lg font-medium" id="loadingText">Initializing boosters...</span>
            </div>
        </div>

        <div id="playersContainer" class="player-grid">
            <!-- Video players will be inserted here -->
        </div>

        <footer class="mt-16 text-center text-sm text-gray-500 dark:text-gray-400 py-4">
            <p>BoostHub • Modern Content Platform</p>
            <button id="showTerms" class="text-cool-primary hover:text-cool-secondary dark:text-cool-accent dark:hover:text-cool-light hover:underline mt-2 transition-colors">Terms of Use</button>
        </footer>
    </main>

    <script>
        // Block view source methods
        document.addEventListener('contextmenu', e => e.preventDefault());
        document.addEventListener('keydown', function(e) {
            // Block Ctrl+U (view source)
            if (e.ctrlKey && e.keyCode === 85) {
                e.preventDefault();
                return false;
            }
            // Block F12
            if (e.keyCode === 123) {
                e.preventDefault();
                return false;
            }
            // Block Ctrl+Shift+I
            if (e.ctrlKey && e.shiftKey && e.keyCode === 73) {
                e.preventDefault();
                return false;
            }
            // Block Ctrl+Shift+J
            if (e.ctrlKey && e.shiftKey && e.keyCode === 74) {
                e.preventDefault();
                return false;
            }
            // Block Ctrl+Shift+C
            if (e.ctrlKey && e.shiftKey && e.keyCode === 67) {
                e.preventDefault();
                return false;
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
            const videoForm = document.getElementById('videoForm');
            const playersContainer = document.getElementById('playersContainer');
            const statusMessage = document.getElementById('statusMessage');
            const loadingIndicator = document.getElementById('loadingIndicator');
            const loadingText = document.getElementById('loadingText');
            const termsModal = document.getElementById('termsModal');
            const acceptTerms = document.getElementById('acceptTerms');
            const declineTerms = document.getElementById('declineTerms');
            const closeTerms = document.getElementById('closeTerms');
            const showTerms = document.getElementById('showTerms');
            const subscriptionGate = document.getElementById('subscriptionGate');
            const proofUpload = document.getElementById('proofUpload');
            const uploadContainer = document.getElementById('uploadContainer');
            const previewContainer = document.getElementById('previewContainer');
            const proofPreview = document.getElementById('proofPreview');
            const removeProof = document.getElementById('removeProof');
            const verifyAccess = document.getElementById('verifyAccess');
            const playerCount = document.getElementById('playerCount');
            const decreaseCount = document.getElementById('decreaseCount');
            const increaseCount = document.getElementById('increaseCount');
            const buttonText = document.getElementById('buttonText');
            
            let hasAcceptedTerms = localStorage.getItem('hasAcceptedTerms') === 'true';
            let hasSubscribed = localStorage.getItem('hasSubscribed') === 'true';
            let hasProofUploaded = false;
            
            // Show subscription gate if not subscribed
            if (!hasSubscribed) {
                subscriptionGate.classList.remove('hidden');
            } else {
                subscriptionGate.classList.add('hidden');
            }
            
            // Handle proof upload
            proofUpload.addEventListener('change', function(e) {
                if (e.target.files.length > 0) {
                    const file = e.target.files[0];
                    
                    // Check file size (max 5MB)
                    if (file.size > 5 * 1024 * 1024) {
                        showStatus('File size exceeds 5MB limit', 'error');
                        return;
                    }
                    
                    // Check file type
                    if (!['image/jpeg', 'image/png', 'image/jpg'].includes(file.type)) {
                        showStatus('Only JPG, JPEG, and PNG files are allowed', 'error');
                        return;
                    }
                    
                    // Show preview
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        proofPreview.src = e.target.result;
                        uploadContainer.classList.add('hidden');
                        previewContainer.classList.remove('hidden');
                        hasProofUploaded = true;
                        updateVerifyButton();
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            // Handle removing proof
            removeProof.addEventListener('click', function() {
                proofUpload.value = '';
                proofPreview.src = '#';
                uploadContainer.classList.remove('hidden');
                previewContainer.classList.add('hidden');
                hasProofUploaded = false;
                updateVerifyButton();
            });
            
            // Update verify button state
            function updateVerifyButton() {
                if (hasProofUploaded) {
                    verifyAccess.classList.remove('opacity-50', 'cursor-not-allowed');
                    verifyAccess.disabled = false;
                } else {
                    verifyAccess.classList.add('opacity-50', 'cursor-not-allowed');
                    verifyAccess.disabled = true;
                }
            }
            
            // Handle verification
            verifyAccess.addEventListener('click', function() {
                if (hasProofUploaded) {
                    hasSubscribed = true;
                    localStorage.setItem('hasSubscribed', 'true');
                    subscriptionGate.classList.add('hidden');
                    
                    // Show terms if not accepted yet
                    if (!hasAcceptedTerms) {
                        termsModal.classList.remove('hidden');
                    }
                    
                    showStatus('Verification successful! Access granted.', 'success');
                }
            });
            
            // Handle terms acceptance
            acceptTerms.addEventListener('click', function() {
                hasAcceptedTerms = true;
                localStorage.setItem('hasAcceptedTerms', 'true');
                termsModal.classList.add('hidden');
                showStatus('Terms accepted. You can now use BoostHub.', 'success');
            });
            
            // Handle terms decline
            declineTerms.addEventListener('click', function() {
                showStatus('You must accept the terms to use this application.', 'warning');
                // Keep modal visible
            });
            
            // Close terms modal
            closeTerms.addEventListener('click', function() {
                termsModal.classList.add('hidden');
            });
            
            // Show terms when footer link is clicked
            showTerms.addEventListener('click', function() {
                termsModal.classList.remove('hidden');
            });
            
            // Number input handlers
            decreaseCount.addEventListener('click', function() {
                const currentValue = parseInt(playerCount.value);
                if (currentValue > 1) {
                    playerCount.value = currentValue - 1;
                    updateButtonText();
                }
            });
            
            increaseCount.addEventListener('click', function() {
                const currentValue = parseInt(playerCount.value);
                if (currentValue < 50) {
                    playerCount.value = currentValue + 1;
                    updateButtonText();
                }
            });
            
            playerCount.addEventListener('input', function() {
                let value = parseInt(this.value);
                
                if (isNaN(value) || value < 1) {
                    this.value = 1;
                } else if (value > 50) {
                    this.value = 50;
                }
                
                updateButtonText();
            });
            
            function updateButtonText() {
                buttonText.textContent = `Activate ${playerCount.value} Boosters`;
            }
            
            // Handle form submission
            videoForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                if (!hasSubscribed) {
                    subscriptionGate.classList.remove('hidden');
                    return;
                }
                
                if (!hasAcceptedTerms) {
                    termsModal.classList.remove('hidden');
                    return;
                }
                
                const videoUrl = document.getElementById('videoUrl').value.trim();
                const viewTypeValue = document.querySelector('input[name="viewType"]:checked').value;
                const playerCountValue = parseInt(playerCount.value);
                
                if (!isValidYouTubeUrl(videoUrl)) {
                    showStatus('Please enter a valid YouTube URL', 'error');
                    return;
                }
                
                // Validate player count
                if (isNaN(playerCountValue) || playerCountValue < 1) {
                    playerCount.value = 1;
                } else if (playerCountValue > 50) {
                    playerCount.value = 50;
                    showStatus('Maximum player count is 50', 'info');
                }
                
                // Extract video ID from URL
                const videoId = extractVideoId(videoUrl);
                if (!videoId) {
                    showStatus('Could not extract video ID from URL', 'error');
                    return;
                }
                
                // Show loading indicator
                loadingIndicator.classList.remove('hidden');
                loadingText.textContent = `Initializing ${playerCountValue} boosters...`;
                
                // Clear previous players
                playersContainer.innerHTML = '';
                
                // Set autoplay and mute parameters based on view type
                let autoplay = 1;
                let mute = 1;
                let playerLabel = 'Silent';
                
                if (viewTypeValue === 'active') {
                    playerLabel = 'Standard';
                } else if (viewTypeValue === 'unmuted') {
                    mute = 0;
                    playerLabel = 'Audio';
                }
                
                // Create players with a slight delay between each
                let playersCreated = 0;
                const TOTAL_PLAYERS = playerCountValue;
                
                function createNextPlayer() {
                    if (playersCreated < TOTAL_PLAYERS) {
                        loadingText.textContent = `Creating boosters... (${playersCreated + 1}/${TOTAL_PLAYERS})`;
                        createVideoPlayer(videoId, playersCreated + 1, autoplay, mute, playerLabel);
                        playersCreated++;
                        
                        // Schedule the next player creation
                        setTimeout(createNextPlayer, 100);
                    } else {
                        // All players created, hide loading indicator
                        loadingIndicator.classList.add('hidden');
                        
                        // Show success message
                        showStatus(`Successfully activated ${TOTAL_PLAYERS} boosters`, 'success');
                        
                        // Scroll to the players section
                        playersContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                }
                
                // Start creating players
                createNextPlayer();
            });
            
            function createVideoPlayer(videoId, number, autoplay, mute, playerLabel) {
                const playerCard = document.createElement('div');
                playerCard.className = 'bg-white dark:bg-gray-800 rounded-xl cool-shadow overflow-hidden transition-transform hover:-translate-y-1 duration-300';
                
                const playerHeader = document.createElement('div');
                playerHeader.className = 'px-4 py-3 flex items-center justify-between border-b border-gray-100 dark:border-gray-700';
                
                const playerTitle = document.createElement('div');
                playerTitle.className = 'flex items-center gap-2';
                playerTitle.innerHTML = `
                    <span class="w-6 h-6 rounded-full bg-cool-accent/10 flex items-center justify-center text-cool-primary text-xs font-medium">${number}</span>
                    <h3 class="text-sm font-medium">Booster</h3>
                `;
                
                const playerBadge = document.createElement('span');
                playerBadge.className = 'inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-cool-primary/10 text-cool-primary';
                playerBadge.textContent = playerLabel;
                
                playerHeader.appendChild(playerTitle);
                playerHeader.appendChild(playerBadge);
                
                const iframeContainer = document.createElement('div');
                iframeContainer.className = 'aspect-video bg-black';
                
                const iframe = document.createElement('iframe');
                iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=${autoplay}&mute=${mute}`;
                iframe.width = '100%';
                iframe.height = '100%';
                iframe.allowFullscreen = true;
                iframe.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture';
                iframe.className = 'border-0';
                
                iframeContainer.appendChild(iframe);
                
                const playerFooter = document.createElement('div');
                playerFooter.className = 'flex items-center justify-between px-4 py-3 bg-gray-50 dark:bg-gray-700/50 text-sm';
                
                const statusInfo = document.createElement('span');
                statusInfo.className = 'text-gray-500 dark:text-gray-400 flex items-center gap-2';
                
                const statusDot = document.createElement('span');
                statusDot.className = 'flex h-2 w-2 relative';
                statusDot.innerHTML = `
                    <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-cool-primary opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-2 w-2 bg-cool-primary"></span>
                `;
                
                statusInfo.appendChild(statusDot);
                statusInfo.appendChild(document.createTextNode('Active'));
                
                const actionButtons = document.createElement('div');
                actionButtons.className = 'flex gap-2';
                
                const refreshButton = document.createElement('button');
                refreshButton.className = 'text-cool-primary hover:text-cool-secondary transition-colors tooltip p-1' ;
                refreshButton.setAttribute('data-tooltip', 'Refresh player');
                refreshButton.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                    </svg>
                `;
                refreshButton.addEventListener('click', function() {
                    iframe.src = iframe.src;
                });
                
                actionButtons.appendChild(refreshButton);
                
                playerFooter.appendChild(statusInfo);
                playerFooter.appendChild(actionButtons);
                
                playerCard.appendChild(playerHeader);
                playerCard.appendChild(iframeContainer);
                playerCard.appendChild(playerFooter);
                
                playersContainer.appendChild(playerCard);
            }
            
            // Function to validate YouTube URL
            function isValidYouTubeUrl(url) {
                const youtubeRegex = /^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.be)\/.+/;
                return youtubeRegex.test(url);
            }
            
            // Function to extract video ID from YouTube URL
            function extractVideoId(url) {
                const regExp = /^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/;
                const match = url.match(regExp);
                return (match && match[7].length === 11) ? match[7] : null;
            }
            
            // Function to show status messages
            function showStatus(message, type = 'info') {
                statusMessage.textContent = '';
                statusMessage.className = 'rounded-xl p-4 mb-6 border flex items-start';
                
                const iconDiv = document.createElement('div');
                iconDiv.className = 'mr-3 flex-shrink-0';
                
                const messageText = document.createElement('p');
                
                switch(type) {
                    case 'error':
                        statusMessage.classList.add('bg-red-50', 'dark:bg-red-900/20', 'border-red-200', 'dark:border-red-800');
                        messageText.className = 'text-red-800 dark:text-red-200';
                        iconDiv.innerHTML = '<svg class="h-5 w-5 text-red-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>';
                        break;
                    case 'warning':
                        statusMessage.classList.add('bg-yellow-50', 'dark:bg-yellow-900/20', 'border-yellow-200', 'dark:border-yellow-800');
                        messageText.className = 'text-yellow-800 dark:text-yellow-200';
                        iconDiv.innerHTML = '<svg class="h-5 w-5 text-yellow-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>';
                        break;
                    case 'success':
                        statusMessage.classList.add('bg-green-50', 'dark:bg-green-900/20', 'border-green-200', 'dark:border-green-800');
                        messageText.className = 'text-green-800 dark:text-green-200';
                        iconDiv.innerHTML = '<svg class="h-5 w-5 text-green-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>';
                        break;
                    default:
                        statusMessage.classList.add('bg-blue-50', 'dark:bg-blue-900/20', 'border-blue-200', 'dark:border-blue-800');
                        messageText.className = 'text-blue-800 dark:text-blue-200';
                        iconDiv.innerHTML = '<svg class="h-5 w-5 text-blue-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg>';
                }
                
                messageText.textContent = message;
                statusMessage.appendChild(iconDiv);
                statusMessage.appendChild(messageText);
                statusMessage.classList.remove('hidden');
                
                // Auto-hide success and info messages after 4 seconds
                if (type === 'success' || type === 'info') {
                    setTimeout(() => {
                        statusMessage.classList.add('hidden');
                    }, 4000);
                }
            }
            
            // Initialize
            updateButtonText();
        });
    </script>
</body>
</html>
